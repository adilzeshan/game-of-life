!function(e){var i={};function t(n){if(i[n])return i[n].exports;var l=i[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var l in e)t.d(n,l,function(i){return e[i]}.bind(null,l));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=1)}([function(e,i){function t(){return"serviceWorker"in navigator&&("https:"===window.location.protocol||"localhost"===window.location.hostname||0===window.location.hostname.indexOf("127."))}i.install=function(e){e||(e={}),t()&&navigator.serviceWorker.register("sw.js",{})},i.applyUpdate=function(e,i){},i.update=function(){t()&&navigator.serviceWorker.getRegistration().then(function(e){if(e)return e.update()})}},function(e,i,t){"use strict";t.r(i);var n={gameOfLife:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?2===t||3===t?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):3===t&&r.newGrid.makeCellLive(e,i)},maze:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?t>0&&t<6?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):3===t&&r.newGrid.makeCellLive(e,i)},nightOrDay:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?3===t||4===t||t>5?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):(3===t||t>5)&&r.newGrid.makeCellLive(e,i)},walledCity:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?t>3&&t<9?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):t>1&&t<6&&r.newGrid.makeCellLive(e,i)},reverseGameOfLife:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?3===t?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):2!==t&&3!==t||r.newGrid.makeCellLive(e,i)},offAndOn:function(e,i,t){r.newGrid.killCell(e,i),r.oldGrid.isCellLive(e,i)?t<3||4===t?r.newGrid.makeCellLive(e,i):r.newGrid.killCell(e,i):(t<4||5===t)&&r.newGrid.makeCellLive(e,i)}},l={initialiseGamePlayStatus:function(){var e=!1;return{get:function(){return e},suspend:function(){e=!1},resume:function(){e=!0}}},initialiseGrid:function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;this.oldGrid=function(){var e=[];function n(i,t){e[i][t]=0}return{rows:i,cols:t,addNewRow:function(i){e[i]=[]},killCell:n,makeCellLive:function(i,t){e[i][t]=1},isCellLive:function(i,t){return 1===e[i][t]},overWriteWith:function(n){for(var l=0;l<i;l++)for(var r=0;r<t;r++)e[l][r]=n[l][r]},resetGrid:function(){for(var e=0;e<i;e++)for(var l=0;l<t;l++)n(e,l)}}}(),this.newGrid=(e=[],{addNewRow:function(i){e[i]=[]},killCell:function(i,t){e[i][t]=0},makeCellLive:function(i,t){e[i][t]=1},getContent:function(){return e}});for(var n=0;n<i;n++){this.oldGrid.addNewRow(n),this.newGrid.addNewRow(n);for(var r=0;r<t;r++)this.oldGrid.killCell(n,r),this.newGrid.killCell(n,r)}return{rows:i,cols:t,reset:l.oldGrid.resetGrid,killCell:l.oldGrid.killCell,makeCellLive:l.oldGrid.makeCellLive,isCellLive:l.oldGrid.isCellLive}},initialiseGenerationNo:function(){var e=0;return{get:function(){return e},increment:function(){e++},reset:function(){e=0}}},initialiseGameEngine:function(){function e(e,i){var t=function(){function e(e,i){if(e>=0&&e<l.oldGrid.rows&&i>=0&&i<l.oldGrid.cols)return l.oldGrid.isCellLive(e,i)}return function(i,t){var n=0;return e(i-1,t-1)&&n++,e(i-1,t)&&n++,e(i-1,t+1)&&n++,e(i,t-1)&&n++,e(i,t+1)&&n++,e(i+1,t-1)&&n++,e(i+1,t)&&n++,e(i+1,t+1)&&n++,n}}()(e,i);n.gameOfLife(e,i,t)}return{computeNewGeneration:function(){for(var i=0;i<l.oldGrid.rows;i++)for(var t=0;t<l.oldGrid.cols;t++)e(i,t);l.oldGrid.overWriteWith(l.newGrid.getContent())}}}},r=l;var o={setUpEventListeners:function(){var e=document.getElementById("canvas-grid"),i=document.getElementById("start"),t=document.getElementById("pause"),n=document.getElementById("clear"),l=document.getElementById("random");e.addEventListener("click",this.selectCell.bind(this)),i.addEventListener("click",this.startGame),t.addEventListener("click",this.pauseGame),n.addEventListener("click",this.resetGame),l.addEventListener("click",this.randomiseGrid.bind(this))},selectCell:function(e){var i=this.grid.context,t=this.grid.cellSize,n=e.offsetX,l=e.offsetY,r=n-n%t,o=l-l%t,a=Math.round(r/t,0),s=Math.round(o/t,0);d.grid.isCellLive(s,a)?(i.fillStyle="#eee",d.grid.killCell(s,a)):(i.fillStyle="#c6e48b",d.grid.makeCellLive(s,a)),i.strokeStyle="whitesmoke",i.strokeRect(r,o,t-1,t-1),i.fillRect(r,o,t-2,t-2)},startGame:function(){d.gamePlayStatus.get()?d.resetGame():(d.gamePlayStatus.resume(),document.getElementById("start").style.display="none",document.getElementById("pause").style.display="inline",d.playGame())},pauseGame:function(){d.gamePlayStatus.get()&&(d.gamePlayStatus.suspend(),document.getElementById("pause").style.display="none",document.getElementById("start").style.display="inline",cancelAnimationFrame(d.timer))},resetGame:function(){document.getElementById("pause").style.display="none",document.getElementById("start").style.display="inline",d.resetGame()},createGrid:function(){this.grid={},this.grid.canvas=document.getElementById("canvas-grid"),this.grid.context=this.grid.canvas.getContext("2d"),this.grid.cellSize=10,this.grid.canvas.width=d.grid.cols*this.grid.cellSize,this.grid.canvas.height=d.grid.rows*this.grid.cellSize,this.clearGrid()},updateGrid:function(){for(var e=this.grid.canvas,i=this.grid.context,t=this.grid.cellSize,n=0,l=0,r=0;r<e.width;r+=t)for(var o=0;o<e.height;o+=t)l=Math.round(r/t,0),n=Math.round(o/t,0),d.grid.isCellLive(n,l)?i.fillStyle="#c6e48b":i.fillStyle="#eee",i.strokeStyle="whitesmoke",i.strokeRect(r,o,t-1,t-1),i.fillRect(r,o,t-2,t-2)},clearGrid:function(){var e=this.grid.canvas,i=this.grid.context,t=this.grid.cellSize;i.strokeStyle="whitesmoke",i.fillStyle="#eee",i.fillRect(0,0,e.width,e.height);for(var n=0;n<e.width;n+=t)for(var l=0;l<e.height;l+=t)i.strokeRect(n,l,t-1,t-1),i.fillRect(n,l,t-2,t-2)},randomiseGrid:function(){document.getElementById("pause").style.display="none",document.getElementById("start").style.display="inline",d.resetGame();for(var e=this.grid.canvas,i=this.grid.context,t=this.grid.cellSize,n=0,l=0,r=0;r<e.width;r+=t)for(var o=0;o<e.height;o+=t)Math.round(Math.random())&&(l=Math.round(r/t,0),n=Math.round(o/t,0),i.fillStyle="#c6e48b",i.fillRect(r,o,t-2,t-2),d.grid.makeCellLive(n,l))},showStartButton:function(){document.getElementById("pause").style.display="none",document.getElementById("start").style.display="inline"},showGenerationNo:function(){document.getElementById("generation").innerText=d.generationNo.get()},clearGenerationNo:function(){document.getElementById("generation").innerText=""}},a={initialiseApp:function(){this.grid=r.initialiseGrid(50,100),this.initialiseEngine(),o.setUpEventListeners(),o.createGrid(),o.randomiseGrid()},initialiseEngine:function(){this.gamePlayStatus=r.initialiseGamePlayStatus(),this.generationNo=r.initialiseGenerationNo(),this.game=r.initialiseGameEngine()},playGame:function(){this.game.computeNewGeneration(),this.generationNo.increment(),o.showGenerationNo(),o.updateGrid(),a.gamePlayStatus.get()&&(this.timer=requestAnimationFrame(function(){a.playGame()}))},resetGame:function(){o.showStartButton(),o.clearGenerationNo(),o.clearGrid(),cancelAnimationFrame(this.timer),this.gamePlayStatus.suspend(),this.generationNo.reset(),this.grid.reset()}},d=a;t(0).install(),document.addEventListener("DOMContentLoaded",d.initialiseApp.bind(d))}]);
//# sourceMappingURL=bundle.js.map